var Markdown;Markdown="object"===typeof exports&&"function"===typeof require?exports:{};
(function(){function x(m){return m}function F(m){return!1}function D(){}function u(){}D.prototype={chain:function(m,u){var y=this[m];if(!y)throw Error("unknown hook "+m);this[m]=y===x?u:function(m){var l=Array.prototype.slice.call(arguments,0);l[0]=y.apply(null,l);return u.apply(null,l)}},set:function(m,u){if(!this[m])throw Error("unknown hook "+m);this[m]=u},addNoop:function(m){this[m]=x},addFalse:function(m){this[m]=F}};Markdown.HookCollection=D;u.prototype={set:function(m,u){this["s_"+m]=u},get:function(m){return this["s_"+
m]}};Markdown.Converter=function(){function m(a){return a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(a,b,O,d,e,c){b=b.toLowerCase();E.set(b,M(O));if(e)return d;c&&H.set(b,c.replace(/"/g,"&quot;"));return""})}function x(a){a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,y);a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,
y);a=a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,y);a=a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,y);return a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,y)}function y(a,b){var d;d=b.replace(/^\n+/,"");d=d.replace(/\n+$/g,"");return d="\n\n~K"+(J.push(d)-1)+"K\n\n"}function B(a,b){a=t.preBlockGamut(a,N);a=c(a);a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n");a=a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,
"<hr />\n");a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n");a=g(a);a=h(a);a=d(a);a=t.postBlockGamut(a,N);a=x(a);return a=w(a,b)}function l(a){a=t.preSpanGamut(a);a=e(a);a=A(a);a=a.replace(/\\(\\)/g,L);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,L);a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,q);a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,q);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,C);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,
C);a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,C);a=r(a);a=a.replace(/~P/g,"://");a=M(a);a=a.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");a=a.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");a=a.replace(/  +\n/g," <br>\n");return a=t.postSpanGamut(a)}function A(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=
p(b,"!"==a.charAt(1)?"\\`*_/":"\\`*_")})}function C(a,b,d,e,c,w,t,f){void 0==f&&(f="");a=d.replace(/:\/\//g,"~P");e=e.toLowerCase();if(""==c)if(""==e&&(e=a.toLowerCase().replace(/ ?\n/g," ")),void 0!=E.get(e))c=E.get(e),void 0!=H.get(e)&&(f=H.get(e));else if(-1<b.search(/\(\s*\)$/m))c="";else return b;c=P(c);c=p(c,"*_");b='<a href="'+c+'"';""!=f&&(f=k(f),f=p(f,"*_"),b+=' title="'+f+'"');return b+(">"+a+"</a>")}function k(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}
function q(a,b,d,e,c,w,t,f){a=d;e=e.toLowerCase();f||(f="");if(""==c)if(""==e&&(e=a.toLowerCase().replace(/ ?\n/g," ")),void 0!=E.get(e))c=E.get(e),void 0!=H.get(e)&&(f=H.get(e));else return b;a=p(k(a),"*_[]()");c=p(c,"*_");b='<img src="'+c+'" alt="'+a+'"';f=k(f);f=p(f,"*_");return b=b+(' title="'+f+'"')+" />"}function c(a){a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return"<h1>"+l(b)+"</h1>\n\n"});a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return"<h2>"+l(b)+"</h2>\n\n"});return a=
a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,d){a=b.length;return"<h"+a+">"+l(d)+"</h"+a+">\n\n"})}function g(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;K?a=a.replace(b,function(a,b,d){a=-1<d.search(/[*+-]/g)?"ul":"ol";b=f(b,a);b=b.replace(/\s+$/,"");return"<"+a+">"+b+"</"+a+">\n"}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,
d,e){a=-1<e.search(/[*+-]/g)?"ul":"ol";d=f(d,a);return b+"<"+a+">\n"+d+"</"+a+">\n"}));return a=a.replace(/~0/,"")}function f(a,b){K++;a=a.replace(/\n{2,}$/,"\n");var d=F[b],e=!1;a=(a+"~0").replace(new RegExp("(^[ \\t]*)("+d+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+d+")[ \\t]+))","gm"),function(a,b,d,c){a=c;(b=/\n\n$/.test(a))||-1<a.search(/\n{2,}/)||e?a=B(n(a),!0):(a=g(n(a)),a=a.replace(/\n$/,""),a=l(a));e=b;return"<li>"+a+"</li>\n"});a=a.replace(/~0/g,"");K--;return a}function h(a){a=(a+"~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,
function(a,d,e){a=b(n(d));a=v(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");return"\n\n"+("<pre><code>"+a+"\n</code></pre>")+"\n\n"+e});return a=a.replace(/~0/,"")}function a(a){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(J.push(a)-1)+"K\n\n"}function e(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,d,e,c,w){a=c.replace(/^([ \t]*)/g,"");a=a.replace(/[ \t]*$/g,"");a=b(a);a=a.replace(/:\/\//g,"~P");return d+"<code>"+a+"</code>"})}function b(a){a=a.replace(/&/g,"&amp;");
a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=p(a,"*_{}[]\\",!1)}function d(b){return b=b.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(b,d){var e;e=d.replace(/^[ \t]*>[ \t]?/gm,"~0");e=e.replace(/~0/g,"");e=e.replace(/^[ \t]+$/gm,"");e=B(e);e=e.replace(/(^|\n)/g,"$1  ");e=e.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var d;d=b.replace(/^  /mg,"~0");return d=d.replace(/~0/g,"")});return a("<blockquote>\n"+e+"\n</blockquote>")})}function w(a,b){a=a.replace(/^\n+/g,"");
a=a.replace(/\n+$/g,"");for(var d=a.split(/\n{2,}/g),e=[],c=/~K(\d+)K/,w=d.length,t=0;t<w;t++){var f=d[t];c.test(f)?e.push(f):/\S/.test(f)&&(f=l(f),f=f.replace(/^([ \t]*)/g,"<p>"),f+="</p>",e.push(f))}if(!b)for(w=e.length,t=0;t<w;t++)for(var g=!0;g;)g=!1,e[t]=e[t].replace(/~K(\d+)K/g,function(a,b){g=!0;return J[b]});return e.join("\n\n")}function M(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");return a=a.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function z(a,b,d,e){if(b)return a;if(")"!==
e.charAt(e.length-1))return"<"+d+e+">";a=e.match(/[()]/g);for(var c=b=0;c<a.length;c++)"("===a[c]?0>=b?b=1:b++:b--;var w="";0>b&&(e=e.replace(new RegExp("\\){1,"+-b+"}$"),function(a){w=a;return""}));return"<"+d+e+">"+w}function r(a){a=a.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,z);return a=a.replace(/<((https?|ftp):[^'">\s]+)>/gi,function(a,b){return'<a href="'+b+'">'+t.plainLinkText(b)+"</a>"})}function G(a){return a=a.replace(/~E(\d+)E/g,
function(a,b){var d=parseInt(b);return String.fromCharCode(d)})}function n(a){a=a.replace(/^(\t|[ ]{1,4})/gm,"~0");return a=a.replace(/~0/g,"")}function v(a){if(!/\t/.test(a))return a;var b=["    ","   ","  "," "],d=0,e;return a.replace(/[\n\t]/g,function(a,c){if("\n"===a)return d=c+1,a;e=(c-d)%4;d=c+1;return b[e]})}function P(a){if(!a)return"";var b=a.length;return a.replace(Q,function(d,e){return"~D"==d?"%24":":"!=d||e!=b-1&&!/[0-9\/]/.test(a.charAt(e+1))?"%"+d.charCodeAt(0).toString(16):":"})}
function p(a,b,d){b="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(b="\\\\"+b);return a=a.replace(new RegExp(b,"g"),L)}function L(a,b){return"~E"+b.charCodeAt(0)+"E"}var t=this.hooks=new D;t.addNoop("plainLinkText");t.addNoop("preConversion");t.addNoop("postNormalization");t.addNoop("preBlockGamut");t.addNoop("postBlockGamut");t.addNoop("preSpanGamut");t.addNoop("postSpanGamut");t.addNoop("postConversion");var E,H,J,K;this.makeHtml=function(a){if(E)throw Error("Recursive call to converter.makeHtml");
E=new u;H=new u;J=[];K=0;a=t.preConversion(a);a=a.replace(/~/g,"~T");a=a.replace(/\$/g,"~D");a=a.replace(/\r\n/g,"\n");a=a.replace(/\r/g,"\n");a=v("\n\n"+a+"\n\n");a=a.replace(/^[ \t]+$/mg,"");a=t.postNormalization(a);a=x(a);a=m(a);a=B(a);a=G(a);a=a.replace(/~D/g,"$$");a=a.replace(/~T/g,"~");a=t.postConversion(a);J=H=E=null;return a};var N=function(a){return B(a)},F={ol:"\\d+[.]",ul:"[*+-]"},Q=/(?:["'*()[\]:]|~D)/g}})();
(function(){function x(){}function F(a){this.buttonBar=k.getElementById("wmd-button-bar"+a);this.preview=k.getElementById("wmd-preview"+a);this.input=k.getElementById("wmd-input"+a)}function D(a,e){var b=this,d=[],c=0,f="none",h,r,k,n=function(a,b){f!=a&&(f=a,b||m());g.isIE&&"moving"==f?k=null:r=setTimeout(v,1)},v=function(a){k=new u(e,a);r=void 0};this.setCommandMode=function(){f="command";m();r=setTimeout(v,0)};this.canUndo=function(){return 1<c};this.canRedo=function(){return d[c+1]?!0:!1};this.undo=
function(){b.canUndo()&&(h?(h.restore(),h=null):(d[c]=new u(e),d[--c].restore(),a&&a()));f="none";e.input.focus();v()};this.redo=function(){b.canRedo()&&(d[++c].restore(),a&&a());f="none";e.input.focus();v()};var m=function(){var b=k||new u(e);if(!b)return!1;"moving"==f?h||(h=b):(h&&(d[c-1].text!=h.text&&(d[c++]=h),h=null),d[c++]=b,d[c+1]=null,a&&a())},p=function(a){var d=!1;if((a.ctrlKey||a.metaKey)&&!a.altKey)switch(String.fromCharCode(a.charCode||a.keyCode).toLowerCase()){case "y":b.redo();d=!0;
break;case "z":a.shiftKey?b.redo():b.undo(),d=!0}d&&(a.preventDefault&&a.preventDefault(),window.event&&(window.event.returnValue=!1))},q=function(a){a.ctrlKey||a.metaKey||(a=a.keyCode,33<=a&&40>=a||63232<=a&&63235>=a?n("moving"):8==a||46==a||127==a?n("deleting"):13==a?n("newlines"):27==a?n("escape"):(16>a||20<a)&&91!=a&&n("typing"))};(function(){l.addEvent(e.input,"keypress",function(a){!a.ctrlKey&&!a.metaKey||a.altKey||89!=a.keyCode&&90!=a.keyCode||a.preventDefault()});var a=function(){(g.isIE||
k&&k.text!=e.input.value)&&void 0==r&&(f="paste",m(),v())};l.addEvent(e.input,"keydown",p);l.addEvent(e.input,"keydown",q);l.addEvent(e.input,"mousedown",function(){n("moving")});e.input.onpaste=a;e.input.ondrop=a})();v(!0);m()}function u(a,e){var b=this,d=a.input;this.init=function(){l.isVisible(d)&&(e||!k.activeElement||k.activeElement===d)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=d.scrollTop,!this.text&&d.selectionStart||0===d.selectionStart)&&(this.text=d.value)};this.setInputAreaSelection=
function(){if(l.isVisible(d))if(void 0!==d.selectionStart&&!g.isOpera)d.focus(),d.selectionStart=b.start,d.selectionEnd=b.end,d.scrollTop=b.scrollTop;else if(k.selection&&(!k.activeElement||k.activeElement===d)){d.focus();var a=d.createTextRange();a.moveStart("character",-d.value.length);a.moveEnd("character",-d.value.length);a.moveEnd("character",b.end);a.moveStart("character",b.start);a.select()}};this.setInputAreaSelectionStartEnd=function(){if(!a.ieCachedRange&&(d.selectionStart||0===d.selectionStart))b.start=
d.selectionStart,b.end=d.selectionEnd;else if(k.selection){b.text=l.fixEolChars(d.value);var e=a.ieCachedRange||k.selection.createRange(),c=l.fixEolChars(e.text),f="\u0007"+c+"\u0007";e.text=f;var g=l.fixEolChars(d.value);e.moveStart("character",-f.length);e.text=c;b.start=g.indexOf("\u0007");b.end=g.lastIndexOf("\u0007")-1;if(f=b.text.length-l.fixEolChars(d.value).length){for(e.moveStart("character",-c.length);f--;)c+="\n",b.end+=1;e.text=c}a.ieCachedRange&&(b.scrollTop=a.ieCachedScrollTop);a.ieCachedRange=
null;this.setInputAreaSelection()}};this.restore=function(){void 0!=b.text&&b.text!=d.value&&(d.value=b.text);this.setInputAreaSelection();d.scrollTop=b.scrollTop};this.getChunks=function(){var a=new x;a.before=l.fixEolChars(b.text.substring(0,b.start));a.startTag="";a.selection=l.fixEolChars(b.text.substring(b.start,b.end));a.endTag="";a.after=l.fixEolChars(b.text.substring(b.end));a.scrollTop=b.scrollTop;return a};this.setChunks=function(a){a.before+=a.startTag;a.after=a.endTag+a.after;this.start=
a.before.length;this.end=a.before.length+a.selection.length;this.text=a.before+a.selection+a.after;this.scrollTop=a.scrollTop};this.init()}function m(a,e,b){var d,c,f,h=function(){var a=0;window.innerHeight?a=window.pageYOffset:k.documentElement&&k.documentElement.scrollTop?a=k.documentElement.scrollTop:k.body&&(a=k.body.scrollTop);return a},r=function(){if(e.preview){var b=e.input.value;if(!b||b!=f){f=b;var d=(new Date).getTime(),b=a.makeHtml(b);c=(new Date).getTime()-d;E(b)}}},G=function(){d&&(clearTimeout(d),
d=void 0);var a=0,a=c;3E3<a&&(a=3E3);d=setTimeout(r,a)},n=function(a){return a.scrollHeight<=a.clientHeight?1:a.scrollTop/(a.scrollHeight-a.clientHeight)};this.refresh=function(a){a?(f="",r()):G()};this.processingTime=function(){return c};var v=!0,m=function(a){var b=e.preview,d=b.parentNode,c=b.nextSibling;d.removeChild(b);b.innerHTML=a;c?d.insertBefore(b,c):d.appendChild(b)},p=function(a){e.preview.innerHTML=a},q,t=function(a){if(q)return q(a);try{p(a),q=p}catch(b){q=m,q(a)}},E=function(a){var d=
A.getTop(e.input)-h();e.preview&&(t(a),b());e.preview&&(e.preview.scrollTop=(e.preview.scrollHeight-e.preview.clientHeight)*n(e.preview));if(v)v=!1;else{var c=A.getTop(e.input)-h();g.isIE?setTimeout(function(){window.scrollBy(0,c-d)},0):window.scrollBy(0,c-d)}};(function(a,b){l.addEvent(a,"input",b);a.onpaste=b;a.ondrop=b;l.addEvent(a,"keypress",b);l.addEvent(a,"keydown",b)})(e.input,G);r();e.preview&&(e.preview.scrollTop=0)}function I(a,e,b,d,f,h,z){function r(a){m.focus();if(a.textOp){b&&b.setCommandMode();
var c=new u(e);if(!c)return;var f=c.getChunks(),g=function(){m.focus();f&&c.setChunks(f);c.restore();d.refresh()};a.textOp(f,g)||g()}a.execute&&a.execute(b)}function G(a,b){var d=a.getElementsByTagName("span")[0];b?(d.style.backgroundPosition=a.XShift+" 0px",a.onmouseover=function(){d.style.backgroundPosition=this.XShift+" -40px"},a.onmouseout=function(){d.style.backgroundPosition=this.XShift+" 0px"},g.isIE&&(a.onmousedown=function(){k.activeElement&&k.activeElement!==e.input||(e.ieCachedRange=document.selection.createRange(),
e.ieCachedScrollTop=e.input.scrollTop)}),a.isHelp||(a.onclick=function(){if(this.onmouseout)this.onmouseout();r(this);return!1})):(d.style.backgroundPosition=a.XShift+" -20px",a.onmouseover=a.onmouseout=a.onclick=function(){})}function n(a){"string"===typeof a&&(a=f[a]);return function(){a.apply(f,arguments)}}function v(){b&&(G(p.undo,b.canUndo()),G(p.redo,b.canRedo()))}var m=e.input,p={};(function(){var b=e.buttonBar,d=document.createElement("ul");d.id="wmd-button-row"+a;d.className="wmd-button-row";
var d=b.appendChild(d),f=0,b=function(b,e,c,g){var w=document.createElement("li");w.className="wmd-button";w.style.left=f+"px";f+=25;var h=document.createElement("span");w.id=b+a;w.appendChild(h);w.title=e;w.XShift=c;g&&(w.textOp=g);G(w,!0);d.appendChild(w);return w},g=function(b){var e=document.createElement("li");e.className="wmd-spacer wmd-spacer"+b;e.id="wmd-spacer"+b+a;d.appendChild(e);f+=25};p.bold=b("wmd-bold-button",z("bold"),"0px",n("doBold"));p.italic=b("wmd-italic-button",z("italic"),"-20px",
n("doItalic"));g(1);p.link=b("wmd-link-button",z("link"),"-40px",n(function(a,b){return this.doLinkOrImage(a,b,!1)}));p.quote=b("wmd-quote-button",z("quote"),"-60px",n("doBlockquote"));p.code=b("wmd-code-button",z("code"),"-80px",n("doCode"));p.image=b("wmd-image-button",z("image"),"-100px",n(function(a,b){return this.doLinkOrImage(a,b,!0)}));g(2);p.olist=b("wmd-olist-button",z("olist"),"-120px",n(function(a,b){this.doList(a,b,!0)}));p.ulist=b("wmd-ulist-button",z("ulist"),"-140px",n(function(a,b){this.doList(a,
b,!1)}));p.heading=b("wmd-heading-button",z("heading"),"-160px",n("doHeading"));p.hr=b("wmd-hr-button",z("hr"),"-180px",n("doHorizontalRule"));g(3);p.undo=b("wmd-undo-button",z("undo"),"-200px",null);p.undo.execute=function(a){a&&a.undo()};g=/win/.test(c.platform.toLowerCase())?z("redo"):z("redomac");p.redo=b("wmd-redo-button",g,"-220px",null);p.redo.execute=function(a){a&&a.redo()};h&&(b=document.createElement("li"),g=document.createElement("span"),b.appendChild(g),b.className="wmd-button wmd-help-button",
b.id="wmd-help-button"+a,b.XShift="-240px",b.isHelp=!0,b.style.right="0px",b.title=z("help"),b.onclick=h.handler,G(b,!0),d.appendChild(b),p.help=b);v()})();var q="keydown";g.isOpera&&(q="keypress");l.addEvent(m,q,function(a){if((a.ctrlKey||a.metaKey)&&!a.altKey&&!a.shiftKey){switch(String.fromCharCode(a.charCode||a.keyCode).toLowerCase()){case "b":r(p.bold);break;case "i":r(p.italic);break;case "l":r(p.link);break;case "q":r(p.quote);break;case "k":r(p.code);break;case "g":r(p.image);break;case "o":r(p.olist);
break;case "u":r(p.ulist);break;case "h":r(p.heading);break;case "r":r(p.hr);break;case "y":r(p.redo);break;case "z":a.shiftKey?r(p.redo):r(p.undo);break;default:return}a.preventDefault&&a.preventDefault();window.event&&(window.event.returnValue=!1)}});l.addEvent(m,"keyup",function(a){!a.shiftKey||a.ctrlKey||a.metaKey||13!==(a.charCode||a.keyCode)||(a={},a.textOp=n("doAutoindent"),r(a))});g.isIE&&l.addEvent(m,"keydown",function(a){if(27===a.keyCode)return!1});this.setUndoRedoButtonStates=v}function y(a,
e){this.hooks=a;this.getString=e}function B(a){return a.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(a,b,d){b=b.replace(/\?.*$/,function(a){return a.replace(/\+/g," ")});b=decodeURIComponent(b);b=encodeURI(b).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29");b=b.replace(/\?.*$/,function(a){return a.replace(/\+/g,"%2b")});d&&(d=d.trim?d.trim():d.replace(/^\s*/,"").replace(/\s*$/,""),d=d.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,
"&gt;"));return d?b+' "'+d+'"':b})}var l={},A={},C={},k=window.document,q=window.RegExp,c=window.navigator,g={isIE:/msie/.test(c.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(c.userAgent.toLowerCase())||/msie 5/.test(c.userAgent.toLowerCase()),isOpera:/opera/.test(c.userAgent.toLowerCase())},f={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',
quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",
heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"};Markdown.Editor=function(a,e,b){b=b||{};"function"===typeof b.handler&&(b={helpButton:b});b.strings=b.strings||{};b.helpButton&&(b.strings.help=b.strings.help||b.helpButton.title);var d=function(a){return b.strings[a]||f[a]};e=e||"";var c=this.hooks=new Markdown.HookCollection;c.addNoop("onPreviewRefresh");
c.addNoop("postBlockquoteCreation");c.addFalse("insertImageDialog");this.getConverter=function(){return a};var g=this,h;this.run=function(){if(!h){h=new F(e);var f=new y(c,d),l=new m(a,h,function(){c.onPreviewRefresh()}),n,v;/\?noundo/.test(k.location.href)||(n=new D(function(){l.refresh();v&&v.setUndoRedoButtonStates()},h),this.textOperation=function(a){n.setCommandMode();a();g.refreshPreview()});v=new I(e,h,n,l,f,b.helpButton,d);v.setUndoRedoButtonStates();(g.refreshPreview=function(){l.refresh(!0)})()}}};
x.prototype.findTags=function(a,e){var b=this,d;a&&(d=l.extendRegExp(a,"","$"),this.before=this.before.replace(d,function(a){b.startTag+=a;return""}),d=l.extendRegExp(a,"^",""),this.selection=this.selection.replace(d,function(a){b.startTag+=a;return""}));e&&(d=l.extendRegExp(e,"","$"),this.selection=this.selection.replace(d,function(a){b.endTag=a+b.endTag;return""}),d=l.extendRegExp(e,"^",""),this.after=this.after.replace(d,function(a){b.endTag=a+b.endTag;return""}))};x.prototype.trimWhitespace=function(a){var e,
b=this;a?a=e="":(a=function(a){b.before+=a;return""},e=function(a){b.after=a+b.after;return""});this.selection=this.selection.replace(/^(\s*)/,a).replace(/(\s*)$/,e)};x.prototype.skipLines=function(a,e,b){void 0===a&&(a=1);void 0===e&&(e=1);a++;e++;var d,c;navigator.userAgent.match(/Chrome/)&&"X".match(/()./);this.selection=this.selection.replace(/(^\n*)/,"");this.startTag+=q.$1;this.selection=this.selection.replace(/(\n*$)/,"");this.endTag+=q.$1;this.startTag=this.startTag.replace(/(^\n*)/,"");this.before+=
q.$1;this.endTag=this.endTag.replace(/(\n*$)/,"");this.after+=q.$1;if(this.before){for(d=c="";a--;)d+="\\n?",c+="\n";b&&(d="\\n*");this.before=this.before.replace(new q(d+"$",""),c)}if(this.after){for(d=c="";e--;)d+="\\n?",c+="\n";b&&(d="\\n*");this.after=this.after.replace(new q(d,""),c)}};l.isVisible=function(a){if(window.getComputedStyle)return"none"!==window.getComputedStyle(a,null).getPropertyValue("display");if(a.currentStyle)return"none"!==a.currentStyle.display};l.addEvent=function(a,e,b){a.attachEvent?
a.attachEvent("on"+e,b):a.addEventListener(e,b,!1)};l.removeEvent=function(a,e,b){a.detachEvent?a.detachEvent("on"+e,b):a.removeEventListener(e,b,!1)};l.fixEolChars=function(a){a=a.replace(/\r\n/g,"\n");return a=a.replace(/\r/g,"\n")};l.extendRegExp=function(a,e,b){if(null===e||void 0===e)e="";if(null===b||void 0===b)b="";a=a.toString();var d;a=a.replace(/\/([gim]*)$/,function(a,b){d=b;return""});a=a.replace(/(^\/|\/$)/g,"");return new q(e+a+b,d)};A.getTop=function(a,e){var b=a.offsetTop;if(!e)for(;a=
a.offsetParent;)b+=a.offsetTop;return b};A.getHeight=function(a){return a.offsetHeight||a.scrollHeight};A.getWidth=function(a){return a.offsetWidth||a.scrollWidth};A.getPageSize=function(){var a,e,b,d;self.innerHeight&&self.scrollMaxY?(a=k.body.scrollWidth,e=self.innerHeight+self.scrollMaxY):k.body.scrollHeight>k.body.offsetHeight?(a=k.body.scrollWidth,e=k.body.scrollHeight):(a=k.body.offsetWidth,e=k.body.offsetHeight);self.innerHeight?(b=self.innerWidth,d=self.innerHeight):k.documentElement&&k.documentElement.clientHeight?
(b=k.documentElement.clientWidth,d=k.documentElement.clientHeight):k.body&&(b=k.body.clientWidth,d=k.body.clientHeight);return[Math.max(a,b),Math.max(e,d),b,d]};C.createBackground=function(){var a=k.createElement("div"),e=a.style;a.className="wmd-prompt-background";e.position="absolute";e.top="0";e.zIndex="1000";g.isIE?e.filter="alpha(opacity=50)":e.opacity="0.5";var b=A.getPageSize();e.height=b[1]+"px";g.isIE?(e.left=k.documentElement.scrollLeft,e.width=k.documentElement.clientWidth):(e.left="0",
e.width="100%");k.body.appendChild(a);return a};C.prompt=function(a,e,b){var d,c;void 0===e&&(e="");var f=function(a){27===(a.charCode||a.keyCode)&&h(!0)},h=function(a){l.removeEvent(k.body,"keydown",f);var e=c.value;a?e=null:(e=e.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(e)||(e="http://"+e));d.parentNode.removeChild(d);b(e);return!1},r=function(){d=k.createElement("div");d.className="wmd-prompt-dialog";d.style.padding="10px;";d.style.position="fixed";d.style.width=
"400px";d.style.zIndex="1001";var b=k.createElement("div");b.innerHTML=a;b.style.padding="5px";d.appendChild(b);var b=k.createElement("form"),n=b.style;b.onsubmit=function(){return h(!1)};n.padding="0";n.margin="0";n.cssFloat="left";n.width="100%";n.textAlign="center";n.position="relative";d.appendChild(b);c=k.createElement("input");c.type="text";c.value=e;n=c.style;n.display="block";n.width="80%";n.marginLeft=n.marginRight="auto";b.appendChild(c);var v=k.createElement("input");v.type="button";v.onclick=
function(){return h(!1)};v.value="OK";n=v.style;n.margin="10px";n.display="inline";n.width="7em";var r=k.createElement("input");r.type="button";r.onclick=function(){return h(!0)};r.value="Cancel";n=r.style;n.margin="10px";n.display="inline";n.width="7em";b.appendChild(v);b.appendChild(r);l.addEvent(k.body,"keydown",f);d.style.top="50%";d.style.left="50%";d.style.display="block";g.isIE_5or6&&(d.style.position="absolute",d.style.top=k.documentElement.scrollTop+200+"px",d.style.left="50%");k.body.appendChild(d);
d.style.marginTop=-(A.getHeight(d)/2)+"px";d.style.marginLeft=-(A.getWidth(d)/2)+"px"};setTimeout(function(){r();var a=e.length;if(void 0!==c.selectionStart)c.selectionStart=0,c.selectionEnd=a;else if(c.createTextRange){var b=c.createTextRange();b.collapse(!1);b.moveStart("character",-a);b.moveEnd("character",a);b.select()}c.focus()},0)};var h=y.prototype;h.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)";h.unwrap=function(a){var e=new q("([^\\n])\\n(?!(\\n|"+
this.prefixes+"))","g");a.selection=a.selection.replace(e,"$1 $2")};h.wrap=function(a,e){this.unwrap(a);var b=new q("(.{1,"+e+"})( +|$\\n?)","gm"),d=this;a.selection=a.selection.replace(b,function(a,b){return(new q("^"+d.prefixes,"")).test(a)?a:b+"\n"});a.selection=a.selection.replace(/\s+$/,"")};h.doBold=function(a,e){return this.doBorI(a,e,2,this.getString("boldexample"))};h.doItalic=function(a,e){return this.doBorI(a,e,1,this.getString("italicexample"))};h.doBorI=function(a,e,b,d){a.trimWhitespace();
a.selection=a.selection.replace(/\n{2,}/g,"\n");var c=/(\**$)/.exec(a.before)[0];e=/(^\**)/.exec(a.after)[0];c=Math.min(c.length,e.length);c>=b&&(2!=c||1!=b)?(a.before=a.before.replace(q("[*]{"+b+"}$",""),""),a.after=a.after.replace(q("^[*]{"+b+"}",""),"")):!a.selection&&e?(a.after=a.after.replace(/^([*_]*)/,""),a.before=a.before.replace(/(\s?)$/,""),a.before=a.before+e+q.$1):(a.selection||e||(a.selection=d),b=1>=b?"*":"**",a.before+=b,a.after=b+a.after)};h.stripLinkDefs=function(a,c){return a=a.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,
function(a,d,f,g,h){c[d]=a.replace(/\s*$/,"");return g?(c[d]=a.replace(/["(](.+?)[")]$/,""),g+h):""})};h.addLinkDef=function(a,c){var b=0,d={};a.before=this.stripLinkDefs(a.before,d);a.selection=this.stripLinkDefs(a.selection,d);a.after=this.stripLinkDefs(a.after,d);var f="",g=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,h=function(a){b++;a=a.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+b+"]:");f+="\n"+a},l=function(a,c,e,f,k,w){e=e.replace(g,l);return d[k]?(h(d[k]),c+e+f+b+w):a};a.before=
a.before.replace(g,l);c?h(c):a.selection=a.selection.replace(g,l);var k=b;a.after=a.after.replace(g,l);a.after&&(a.after=a.after.replace(/\n*$/,""));a.after||(a.selection=a.selection.replace(/\n*$/,""));a.after+="\n\n"+f;return k};h.doLinkOrImage=function(a,c,b){a.trimWhitespace();a.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var d;if(1<a.endTag.length&&0<a.startTag.length)a.startTag=a.startTag.replace(/!?\[/,""),a.endTag="",this.addLinkDef(a,null);else if(a.selection=a.startTag+a.selection+
a.endTag,a.startTag=a.endTag="",/\n\n/.test(a.selection))this.addLinkDef(a,null);else{var f=this,g=function(g){d.parentNode.removeChild(d);null!==g&&(a.selection=(" "+a.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1),g=" [999]: "+B(g),g=f.addLinkDef(a,g),a.startTag=b?"![":"[",a.endTag="]["+g+"]",a.selection||(a.selection=b?f.getString("imagedescription"):f.getString("linkdescription")));c()};d=C.createBackground();b?this.hooks.insertImageDialog(g)||C.prompt(this.getString("imagedialog"),
"http://",g):C.prompt(this.getString("linkdialog"),"http://",g);return!0}};h.doAutoindent=function(a,c){var b=!1;a.before=a.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n");a.before=a.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n");a.before=a.before.replace(/(\n|^)[ \t]+\n$/,"\n\n");a.selection||/^[ \t]*(?:\n|$)/.test(a.after)||(a.after=a.after.replace(/^[^\n]*/,function(b){a.selection=b;return""}),b=!0);/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(a.before)&&this.doList&&this.doList(a);
/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(a.before)&&this.doBlockquote&&this.doBlockquote(a);/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&this.doCode&&this.doCode(a);b&&(a.after=a.selection+a.after,a.selection="")};h.doBlockquote=function(a,c){a.selection=a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(b,c,d,e){a.before+=c;a.after=e+a.after;return d});a.before=a.before.replace(/(>[ \t]*)$/,function(b,c){a.selection=c+a.selection;return""});a.selection=a.selection.replace(/^(\s|>)+$/,"");a.selection=a.selection||
this.getString("quoteexample");var b="",d="",f;if(a.before){for(var g=a.before.replace(/\n$/,"").split("\n"),h=!1,l=0;l<g.length;l++){var k=!1;f=g[l];h=h&&0<f.length;/^>/.test(f)?(k=!0,!h&&1<f.length&&(h=!0)):k=/^[ \t]*$/.test(f)?!0:h;k?b+=f+"\n":(d+=b+f,b="\n")}/(^|\n)>/.test(b)||(d+=b,b="")}a.startTag=b;a.before=d;a.after&&(a.after=a.after.replace(/^\n?/,"\n"));a.after=a.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(b){a.endTag=b;return""});b=function(b){var c=b?"> ":"";
a.startTag&&(a.startTag=a.startTag.replace(/\n((>|\s)*)\n$/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}));a.endTag&&(a.endTag=a.endTag.replace(/^\n((>|\s)*)\n/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}))};/^(?![ ]{0,3}>)/m.test(a.selection)?(this.wrap(a,70),a.selection=a.selection.replace(/^/gm,"> "),b(!0),a.skipLines()):(a.selection=a.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(a),b(!1),!/^(\n|^)[ ]{0,3}>/.test(a.selection)&&a.startTag&&(a.startTag=
a.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(a.selection)&&a.endTag&&(a.endTag=a.endTag.replace(/^\n{0,2}/,"\n\n")));a.selection=this.hooks.postBlockquoteCreation(a.selection);/\n/.test(a.selection)||(a.selection=a.selection.replace(/^(> *)/,function(b,c){a.startTag+=c;return""}))};h.doCode=function(a,c){var b=/\S[ ]*$/.test(a.before);if(!/^[ ]*\S/.test(a.after)&&!b||/\n/.test(a.selection)){a.before=a.before.replace(/[ ]{4}$/,function(b){a.selection=b+a.selection;return""});var d=
b=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&(b=0);/^\n(\t|[ ]{4,})/.test(a.after)&&(d=0);a.skipLines(b,d);a.selection?/^[ ]{0,3}\S/m.test(a.selection)?/\n/.test(a.selection)?a.selection=a.selection.replace(/^/gm,"    "):a.before+="    ":a.selection=a.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(a.startTag="    ",a.selection=this.getString("codeexample"))}else a.trimWhitespace(),a.findTags(/`/,/`/),a.startTag||a.endTag?a.endTag&&!a.startTag?(a.before+=a.endTag,a.endTag=""):a.startTag=a.endTag=
"":(a.startTag=a.endTag="`",a.selection||(a.selection=this.getString("codeexample")))};h.doList=function(a,c,b){c=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/;var d="-",f=1,g=function(){var a;b?(a=" "+f+". ",f++):a=" "+d+" ";return a},h=function(a){void 0===b&&(b=/^\s*\d/.test(a));return a=a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(a){return g()})};a.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null);!a.before||/\n$/.test(a.before)||/^\n/.test(a.startTag)||
(a.before+=a.startTag,a.startTag="");if(a.startTag){var l=/\d+[.]/.test(a.startTag);a.startTag="";a.selection=a.selection.replace(/\n[ ]{4}/g,"\n");this.unwrap(a);a.skipLines();l&&(a.after=a.after.replace(c,h));if(b==l)return}var k=1;a.before=a.before.replace(/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,function(a){/^\s*([*+-])/.test(a)&&(d=q.$1);k=/[^\n]\n\n[^\n]/.test(a)?1:0;return h(a)});a.selection||(a.selection=this.getString("litem"));
var l=g(),n=1;a.after=a.after.replace(c,function(a){n=/[^\n]\n\n[^\n]/.test(a)?1:0;return h(a)});a.trimWhitespace(!0);a.skipLines(k,n,!0);a.startTag=l;c=l.replace(/./g," ");this.wrap(a,72-c.length);a.selection=a.selection.replace(/\n/g,"\n"+c)};h.doHeading=function(a,c){a.selection=a.selection.replace(/\s+/g," ");a.selection=a.selection.replace(/(^\s+|\s+$)/g,"");if(a.selection){var b=0;a.findTags(/#+[ ]*/,/[ ]*#+/);/#+/.test(a.startTag)&&(b=q.lastMatch.length);a.startTag=a.endTag="";a.findTags(null,
/\s?(-+|=+)/);/=+/.test(a.endTag)&&(b=1);/-+/.test(a.endTag)&&(b=2);a.startTag=a.endTag="";a.skipLines(1,1);b=0==b?2:b-1;if(0<b){var b=2<=b?"-":"=",d=a.selection.length;72<d&&(d=72);for(a.endTag="\n";d--;)a.endTag+=b}}else a.startTag="## ",a.selection=this.getString("headingexample"),a.endTag=" ##"};h.doHorizontalRule=function(a,c){a.startTag="----------\n";a.selection="";a.skipLines(2,1,!0)}})();
(function(){function x(l){return l.replace(/<[^>]*>?/gi,F)}function F(l){return l.match(I)||l.match(y)||l.match(B)?l:""}function D(l){if(""==l)return"";var m=/<\/?\w+[^>]*(\s|$|>)/g,u=l.toLowerCase().match(m),k=(u||[]).length;if(0==k)return l;for(var q,c,g,f=[],h=[],a=!1,e=0;e<k;e++)if(q=u[e].replace(/<\/?(\w+).*/,"$1"),!(f[e]||-1<"<p><img><br><li><hr>".search("<"+q+">"))){c=u[e];g=-1;if(!/^<\//.test(c))for(c=e+1;c<k;c++)if(!f[c]&&u[c]=="</"+q+">"){g=c;break}-1==g?a=h[e]=!0:f[g]=!0}if(!a)return l;
e=0;return l=l.replace(m,function(a){a=h[e]?"":a;e++;return a})}var u,m;"object"===typeof exports&&"function"===typeof require?(u=exports,m=require("./Markdown.Converter").Converter):(u=window.Markdown,m=u.Converter);u.getSanitizingConverter=function(){var l=new m;l.hooks.chain("postConversion",x);l.hooks.chain("postConversion",D);return l};var I=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,y=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,
B=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i})();
(function(){function x(c){return c.replace(/^\s+|\s+$/g,"")}function F(c,g){return c.replace(/<[^>]*>?/gi,function(c){return c.match(g)?c:""})}function D(c){"\u0002"!=c.charAt(0)&&(c="\u0002"+c);"\u0003"!=c.charAt(c.length-1)&&(c+="\u0003");return c}function u(c){"\u0002"==c.charAt(0)&&(c=c.substr(1));"\u0003"==c.charAt(c.length-1)&&(c=c.substr(0,c.length-1));return c}function m(c,g){return F(I(c,g),A)}function I(c,g){var f=g.blockGamutHookCallback(c),f=y(f),f=f.replace(/~D/g,"$$").replace(/~T/g,
"~");return f=g.previousPostConversion(f)}function y(c){return c=c.replace(/~E(\d+)E/g,function(c,f){var h=parseInt(f);return String.fromCharCode(h)})}function B(c){return c.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function l(c,g){var f;f=g.replace(/&\#8220;/g,'"');f=f.replace(/&\#8221;/g,'"');f=f.replace(/&\#8216;/g,"'");f=f.replace(/&\#8217;/g,"'");f=f.replace(/&\#8212;/g,"---");f=f.replace(/&\#8211;/g,"--");return f=f.replace(/&\#8230;/g,
"...")}var A=/^(<\/?(a|abbr|acronym|applet|area|b|basefont|bdo|big|button|cite|code|del|dfn|em|figcaption|font|i|iframe|img|input|ins|kbd|label|map|mark|meter|object|param|progress|q|ruby|rp|rt|s|samp|script|select|small|span|strike|strong|sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|<(br)\s?\/?>)$/i;Array.indexOf||(Array.prototype.indexOf=function(c){for(var g=0;g<this.length;g++)if(this[g]==c)return g;return-1});Markdown.Extra=function(){this.converter=null;this.hashBlocks=[];this.footnotes={};this.usedFootnotes=
[];this.highlightJs=this.googleCodePrettify=this.attributeBlocks=!1;this.tableClass="";this.tabWidth=4};Markdown.Extra.init=function(c,g){var f=new Markdown.Extra,h=[],a=[],e=[],b=["unHashExtraBlocks"];g=g||{};g.extensions=g.extensions||["all"];-1!=g.extensions.indexOf("all")&&(g.extensions="tables fenced_code_gfm def_list attr_list footnotes smartypants strikethrough newlines".split(" "));a.push("wrapHeaders");-1!=g.extensions.indexOf("attr_list")&&(h.push("hashFcbAttributeBlocks"),a.push("hashHeaderAttributeBlocks"),
b.push("applyAttributeBlocks"),f.attributeBlocks=!0);-1!=g.extensions.indexOf("fenced_code_gfm")&&(a.push("fencedCodeBlocks"),h.push("fencedCodeBlocks"));-1!=g.extensions.indexOf("tables")&&a.push("tables");-1!=g.extensions.indexOf("def_list")&&a.push("definitionLists");-1!=g.extensions.indexOf("footnotes")&&(h.push("stripFootnoteDefinitions"),a.push("doFootnotes"),b.push("printFootnotes"));-1!=g.extensions.indexOf("smartypants")&&b.push("runSmartyPants");-1!=g.extensions.indexOf("strikethrough")&&
e.push("strikethrough");-1!=g.extensions.indexOf("newlines")&&e.push("newlines");c.hooks.chain("postNormalization",function(a){return f.doTransform(h,a)+"\n"});c.hooks.chain("preBlockGamut",function(b,c){f.blockGamutHookCallback=c;b=b.replace(/\\\|/g,"~I").replace(/\\:/g,"~i");b=f.doTransform(a,b)+"\n";return b=b.replace(/~I/g,"|").replace(/~i/g,":")});c.hooks.chain("postSpanGamut",function(a){return f.doTransform(e,a)});f.previousPostConversion=c.hooks.postConversion;c.hooks.chain("postConversion",
function(a){a=f.doTransform(b,a);f.hashBlocks=[];f.footnotes={};f.usedFootnotes=[];return a});"highlighter"in g&&(f.googleCodePrettify="prettify"===g.highlighter,f.highlightJs="highlight"===g.highlighter);"table_class"in g&&(f.tableClass=g.table_class);f.converter=c;return f};Markdown.Extra.prototype.doTransform=function(c,g){for(var f=0;f<c.length;f++)g=this[c[f]](g);return g};Markdown.Extra.prototype.hashExtraBlock=function(c){return"\n<p>~X"+(this.hashBlocks.push(c)-1)+"X</p>\n"};Markdown.Extra.prototype.hashExtraInline=
function(c){return"~X"+(this.hashBlocks.push(c)-1)+"X"};Markdown.Extra.prototype.unHashExtraBlocks=function(c){function g(){var h=!1;c=c.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(a,c){h=!0;var b=parseInt(c,10);return f.hashBlocks[b]});!0===h&&g()}var f=this;g();return c};Markdown.Extra.prototype.wrapHeaders=function(c){function g(c){return"\n"+c+"\n"}c=c.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,g);c=c.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,g);return c=c.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,g)};var C=
RegExp("^(#{1,6}.*#{0,6})[ \\t]+\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}[ \\t]*(?:\\n|0x03)","gm"),k=RegExp("^(.*)[ \\t]+\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))","gm"),q=RegExp("^(```[^`\\n]*)[ \\t]+\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(c){function g(c,a,e){return"<p>~XX"+(f.hashBlocks.push(e)-1)+"XX</p>\n"+a+"\n"}var f=this;
c=c.replace(C,g);return c=c.replace(k,g)};Markdown.Extra.prototype.hashFcbAttributeBlocks=function(c){var g=this;return c.replace(q,function(c,h,a){return"<p>~XX"+(g.hashBlocks.push(a)-1)+"XX</p>\n"+h+"\n"})};Markdown.Extra.prototype.applyAttributeBlocks=function(c){var g=this;return c=c.replace(RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm"),function(c,h,a,e,b){if(!a)return"";c=parseInt(h,10);h=g.hashBlocks[c];c=h.match(/#[^\s#.]+/g)||[];c=c[0]?' id="'+
c[0].substr(1,c[0].length-1)+'"':"";var d=h.match(/\.[^\s#.]+/g)||[];for(h=0;h<d.length;h++)d[h]=d[h].substr(1,d[h].length-1);h="";if(e){var l=[e];e={};for(var k=0;k<d.length;k++)e[d[k]]=d[k];for(k=0;k<l.length;k++)e[l[k]]=l[k];var d=[],m;for(m in e)e.hasOwnProperty(m)&&d.push(e[m])}0<d.length&&(h=' class="'+d.join(" ")+'"');return"<"+a+c+h+b})};Markdown.Extra.prototype.tables=function(c){function g(a,c,b,d,g,h){c=c.replace(/^ *[|]/m,"");b=b.replace(/^ *[|]/m,"");d=d.replace(/^ *[|]/gm,"");c=c.replace(/[|] *$/m,
"");b=b.replace(/[|] *$/m,"");d=d.replace(/[|] *$/gm,"");g=b.split(/ *[|] */);a=[];for(b=0;b<g.length;b++)h=g[b],h.match(/^ *-+: *$/m)?a[b]=' align="right"':h.match(/^ *:-+: *$/m)?a[b]=' align="center"':h.match(/^ *:-+ *$/m)?a[b]=' align="left"':a[b]="";h=c.split(/ *[|] */);c=h.length;g=["<table",f.tableClass?' class="'+f.tableClass+'"':"",">\n<thead>\n<tr>\n"].join("");for(b=0;b<c;b++){var k=m(x(h[b]),f);g+=["  <th",a[b],">",k,"</th>\n"].join("")}g+="</tr>\n</thead>\n";d=d.split("\n");for(b=0;b<
d.length;b++)if(!d[b].match(/^\s*$/)){h=d[b].split(/ *[|] */);for(var l=c-h.length,k=0;k<l;k++)h.push("");g+="<tr>\n";for(k=0;k<c;k++)l=m(x(h[k]),f),g+=["  <td",a[k],">",l,"</td>\n"].join("");g+="</tr>\n"}return f.hashExtraBlock(g+"</table>\n")}var f=this,h=RegExp("^[ ]{0,3}(\\S.*[|].*)\\n[ ]{0,3}([-:]+[ ]*[|][-| :]*)\\n((?:.*[|].*\\n?)*)(?:\\n|$)","gm");c=c.replace(RegExp("^[ ]{0,3}[|](.+)\\n[ ]{0,3}[|]([ ]*[-:]+[-| :]*)\\n((?:[ ]*[|].*\\n?)*)(?:\\n|$)","gm"),g);return c=c.replace(h,g)};Markdown.Extra.prototype.stripFootnoteDefinitions=
function(c){var g=this;return c=c.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(c,h,a){h=B(h);a=(a+"\n").replace(/^[ ]{0,3}/g,"");g.footnotes[h]=a;return"\n"})};Markdown.Extra.prototype.doFootnotes=function(c){var g=this;if(!0===g.isConvertingFootnote)return c;var f=0;return c=c.replace(/\[\^(.+?)\]/g,function(c,a){var e=B(a);if(void 0===g.footnotes[e])return c;f++;g.usedFootnotes.push(e);return g.hashExtraInline('<a href="#fn:'+e+'" id="fnref:'+e+'" title="See footnote" class="footnote">'+
f+"</a>")})};Markdown.Extra.prototype.printFootnotes=function(c){if(0===this.usedFootnotes.length)return c;c+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var g=0;g<this.usedFootnotes.length;g++){var f=this.usedFootnotes[g],h=this.footnotes[f];this.isConvertingFootnote=!0;h=m(h,this);delete this.isConvertingFootnote;c+='<li id="fn:'+f+'">'+h+' <a href="#fnref:'+f+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return c+"</ol>\n</div>"};Markdown.Extra.prototype.fencedCodeBlocks=
function(c){function g(c){c=c.replace(/&/g,"&amp;");c=c.replace(/</g,"&lt;");c=c.replace(/>/g,"&gt;");c=c.replace(/~D/g,"$$");return c=c.replace(/~T/g,"~")}var f=this;return c=c.replace(/(?:^|\n)```([^`\n]*)\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(c,a,e){c=x(a);a=f.googleCodePrettify?' class="prettyprint"':"";var b="";c&&(b=f.googleCodePrettify||f.highlightJs?' class="language-'+c+'"':' class="'+c+'"');e=["<pre",a,"><code",b,">",g(e),"</code></pre>"].join("");return f.hashExtraBlock(e)})};Markdown.Extra.prototype.educatePants=
function(c){var g=this,f="",h=0;c.replace(/(?:\x3c!--[\s\S]*?--\x3e)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(a,b,d,k,l,m,r){var q=c.substring(h,r);f+=g.applyPants(q);g.smartyPantsLastChar=f.substring(f.length-1);h=r+a.length;b?(/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(d)?g.smartyPantsLastChar=l.substring(l.length-1):l=g.educatePants(l),f+=b+d+k+l+m):f+=a});var a=c.substring(h),f=f+g.applyPants(a);g.smartyPantsLastChar=f.substring(f.length-1);return f};Markdown.Extra.prototype.applyPants=
function(c){c=c.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;");c=c.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;");c=c.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;");if(/^'$/.test(c))return/\S/.test(this.smartyPantsLastChar)?"&#8217;":"&#8216;";if(/^"$/.test(c))return/\S/.test(this.smartyPantsLastChar)?"&#8221;":"&#8220;";c=c.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8217;");c=c.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8221;");c=c.replace(/"'(?=\w)/g,
"&#8220;&#8216;");c=c.replace(/'"(?=\w)/g,"&#8216;&#8220;");c=c.replace(/'(?=\d{2}s)/g,"&#8217;");c=c.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g,"$1&#8216;");c=c.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;");c=c.replace(/'(?=\s|s\b)/g,"&#8217;");c=c.replace(/'/g,"&#8216;");c=c.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g,"$1&#8220;");c=c.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;");c=c.replace(/"(?=\s)/g,"&#8221;");return c=c.replace(/"/ig,"&#8220;")};
Markdown.Extra.prototype.runSmartyPants=function(c){this.smartyPantsLastChar="";c=this.educatePants(c);return c=c.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,l)};Markdown.Extra.prototype.definitionLists=function(c){var g=RegExp("(\\x02\\n?|\\n\\n)(?:(([ ]{0,3}((?:[ \\t]*\\S.*\\n)+)\\n?[ ]{0,3}:[ ]+)([\\s\\S]+?)((?=\\0x03)|(?=\\n{2,}(?=\\S)(?![ ]{0,3}(?:\\S.*\\n)+?\\n?[ ]{0,3}:[ ]+)(?![ ]{0,3}:[ ]+)))))","gm"),f=this;c=D(c);c=c.replace(g,function(c,a,e){c=x(f.processDefListItems(e));return a+f.hashExtraBlock("<dl>\n"+
c+"\n</dl>")+"\n\n"});return u(c)};Markdown.Extra.prototype.processDefListItems=function(c){var g=this,f=RegExp("(\\x02\\n?|\\n\\n+)([ ]{0,3}(?![:][ ]|[ ])(?:\\S.*\\n)+?)(?=\\n?[ ]{0,3}:[ ])","gm"),h=RegExp("\\n(\\n+)?([ ]{0,3}[:][ ]+)([\\s\\S]+?)(?=\\n*(?:\\n[ ]{0,3}[:][ ]|<dt>|\\x03))","gm");c=D(c);c=c.replace(/\n{2,}(?=\\x03)/,"\n");c=c.replace(f,function(a,c,b){a=x(b).split("\n");c="";for(b=0;b<a.length;b++){var d=a[b],d=m(x(d),g);c+="\n<dt>"+d+"</dt>"}return c+"\n"});c=c.replace(h,function(a,
c,b,d){c||d.match(/\n{2,}/)?(d=Array(b.length+1).join(" ")+d,d=d.replace(RegExp("^(\\t|[ ]{1,4})","gm"),"")+"\n\n",d="\n"+I(d,g)+"\n"):(d=d.replace(/\s+$/g,""),d=m(d.replace(RegExp("^(\\t|[ ]{1,4})","gm"),""),g));return"\n<dd>"+d+"</dd>\n"});return u(c)};Markdown.Extra.prototype.strikethrough=function(c){return c.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")};Markdown.Extra.prototype.newlines=function(c){return c.replace(/(<(?:br|\/li)>)?\n/g,function(c,f){return f?
c:" <br>\n"})}})();
